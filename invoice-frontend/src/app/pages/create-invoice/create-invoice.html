<div class="invoice-container">
  <div class="invoice-card">

    <h2 class="title">Create Invoice</h2>

    <!-- Top Section -->
    <div class="main-layout">

      <!-- Client Details -->
      <div class="left-section">
        <div class="row">
          <label>Client Name <span class="required">*</span></label>
          <input
            type="text"
            [(ngModel)]="invoice.userName"
            placeholder="Enter client name"
            required
            #clientName
          />
        </div>

        <div class="row">
          <label>Phone Number <span class="required">*</span></label>
          <input
            type="text"
            [(ngModel)]="invoice.phoneNumber"
            placeholder="Enter phone number"
            required
            #phoneNumber
          />
        </div>
      </div>

      <!-- Owner Details -->
      <div class="right-section">
        <div class="owner-box">
          <h4>Owner Details</h4>
          <p><strong>{{ invoice.ownerDetails.companyName }}</strong></p>
          <p>{{ invoice.ownerDetails.address }}</p>
          <p>Phone: {{ invoice.ownerDetails.phoneNumber }}</p>
        </div>
      </div>
    </div>

    <!-- Item List -->
    <div class="service-section">
      <h3 class="section-title">Item List <span class="required">*</span></h3>

      <div
        class="service-row"
        *ngFor="let service of invoice.services; let i = index"
      >
        <select [(ngModel)]="service.serviceType" required>
          <option value="">Select Service</option>
          <option>Wedding Photography</option>
          <option>Videography</option>
          <option>Drone Shots</option>
          <option>Photo and Print</option>
          <option>Print only</option>
          <option>Album Design</option>
          <option>Frame Order</option>
          <option>Pre-Wedding Shoot</option>
        </select>

        <input
          type="number"
          placeholder="Qty"
          [(ngModel)]="service.quantity"
          (input)="recalculate()"
          required
        />

        <input
          type="number"
          placeholder="Price / Unit"
          [(ngModel)]="service.pricePerUnit"
          (input)="recalculate()"
          required
        />

        <input
          type="number"
          placeholder="Amount"
          [value]="service.amountCharged"
          disabled
        />
    
        <input
          type="text"
          placeholder="Notes"
          [(ngModel)]="service.notes"
        />

        <button
          type="button"
          class="remove-btn"
          (click)="removeService(i)"
        >
          ✕
        </button>
      </div>

      <button
        type="button"
        class="add-item-btn"
        (click)="addService()"
      >
        + Add Another Item
      </button>
    </div>

    <!-- Payment Section -->
    <div class="payment-section">
      <div class="row">
        <label>Received Amount <span class="required">*</span></label>
        <input
          type="number"
          [(ngModel)]="invoice.receivedAmount"
          (input)="recalculate()"
          required
          #receivedAmount
        />
      </div>

      <div class="balance-box">
        <span>Balance Amount</span>
        <strong>₹ {{ invoice.balanceAmount | number:'1.0-0' }}</strong>
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="action-buttons">
      <button class="btn-primary" (click)="saveInvoice()">Save Invoice</button>
      <button class="btn-secondary" (click)="clearInvoice()">Clear</button>
      <button class="btn-outline" (click)="goToList()">Invoice List</button>
    </div>

  </div>
</div>